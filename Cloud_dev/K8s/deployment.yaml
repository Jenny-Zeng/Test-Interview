
apiVersion: apps/v1
kink:Deployment 
metadata:
  name:nginx-Deployment
  namespace:miku-test-diy 
  labels:nginx
spec: 
  replicas:3
  selector:
    matchLabels: 
    app:nginx
  strategy:
    type:RollingUpdate
    rollingUpdate:
      maxSurge:1
      maxUnavailable:1
    template:
      metadata:
        labels:
          app:nginx
      spec:
        containers:     
        - name: nginx   
          image: nginx:1.21  
          ports:
          - containerPort: 80  
          resources:     
            requests:    
              cpu: 100m
              memory: 128Mi
            limits:      
              cpu: 200m
              memory: 256Mi
        livenessProbe:  
          httpGet:
            path: /
            port: 80
          initialDelaySeconds: 30  
          periodSeconds: 10       
        readinessProbe: 
          httpGet:
            path: /
            port: 80
          initialDelaySeconds: 5
          periodSeconds: 5
